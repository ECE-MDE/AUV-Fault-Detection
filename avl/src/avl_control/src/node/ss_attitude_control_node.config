#===============================================================================
# Autonomous Vehicle Library
#
# Description: Configuration file for the state space attitude control node.
#===============================================================================

# Enable or disable fin mixing, which adjusts elevator and rudder angles based
# on vehicle roll angle
enable_fin_mixing: true

# Maximum fin angle output in degrees, saturated at +/- this value
max_fin_angle: 20.0

# Maximum fin angle from integrator in degrees, saturated at +/- this value
max_integrator_fin_angle:  5.0

# Maximum input error given to the controller in degrees, saturated at +/- this value
max_input_error: 11.0

# Default elevator and rudder angles in degrees for when there are no setpoints
# affecting the corresponding fins
default_elevator_angle: 20.0
default_rudder_angle: 0.0

# Controller iteration rate in Hz
iteration_rate: 10.0

# Minimum input message rates in Hz. Input messages must be received at a
# rate greater than this rate. Otherwise, the node will detect a fault and
# terminate
min_input_rate: 1.0

# Minimum setpoint message rates in Hz. Setpoint messages must be received
# at a rate greater than this rate. Otherwise, control node iteration will be
# stopped until a new setpoint is received
min_setpoint_rate: 1.0

#-------------------------------------------------------------------------------
# State Space Model

# State space vector sizes
num_states: 20 # n 
num_inputs: 4 # p 
num_outputs: 2 # q 

# Initial state vector
x0: [ 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, ]

# State matrix (n x n)
A: [ 0.6940203301, -0.0770939264, 0.1553260138, -0.2058561721, -0.3295739159, 0.0011042479, -0.0070755095, 0.2691062119, -0.0001412752, -0.0056179521, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
-0.0154362173, 0.0018649453, 0.0082845551, -0.0166810064, -0.0274160636, -0.0026218984, -0.0006491295, 0.0717793241, 0.0000019214, -0.0004911320, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0299752246, -0.0050183162, 0.9670643854, -0.0265722225, 0.0058642747, 0.0105999273, 0.0001009060, 0.0369928871, -0.0000019822, 0.0046059256, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
-0.0359796178, 0.0063396505, 0.0193091052, 0.8366681196, 0.0065869766, 0.0983030251, 0.0033082163, 0.2333606923, 0.0000529081, -0.0004551004, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.1150496817, -0.0191609797, -0.0618148039, -0.0425447179, 0.9419756946, 0.0067680802, -0.0007651070, 0.0573741183, -0.0000252316, 0.0159945253, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.3243873371, -0.0373599986, -0.1741182827, 1.2327323419, 0.6861344870, 0.1639200069, -0.0087458213, -1.8128420770, 0.0000029353, 0.0116964905, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0359656168, -0.0063371151, -0.0193015902, 0.1632778425, -0.0066158222, -0.0982702446, 0.9966913689, -0.2332834482, -0.0000529264, 0.0004546041, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0000244655, -0.0000044109, -0.0000131320, 0.0000940828, 0.0000515578, -0.0000570815, -0.0000005674, 0.9994655939, 0.0000000013, 0.0000008787, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0000000000, -0.0000000000, -0.0000000000, -0.0000000000, 0.0000000000, 0.0000000000, -0.0000000000, 0.0000000000, 0.0013070272, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0009162943, -0.0001008983, -0.0004892758, -0.0007346858, 0.0008220055, 0.0012633287, 0.0001620181, 0.0006270267, 0.0000005671, 0.1353506377, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.4835513303, -0.2796694529, 0.8341583334, 0.4717808727, 0.1001527495, -0.1470447911, 0.0060577346, -0.8525533461, -0.0000000397, -0.0048066468, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0225844483, 0.9852726295, 0.0478820252, 0.0414567822, 0.0074685395, -0.0115479041, 0.0002527990, -0.0491990763, -0.0000001131, 0.0014314760, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0041433550, 0.0023650763, 0.9411893153, 0.0707814665, 0.0003385726, 0.0245040795, 0.0020341279, 0.0602961157, 0.0000046503, -0.0004531904, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, -0.1162600211, -0.0665646982, -0.2493377040, 0.7845301173, -0.0386260383, 0.0606983634, -0.0012206192, 0.2562055911, 0.0000007709, -0.0074495831, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0162127636, 0.0092710009, -0.0239737288, -0.0214789373, 0.0039699489, -0.0076062734, -0.0002633447, 0.0721482873, -0.0000003125, 0.0002155587, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, -0.3212172319, -0.1836895875, 1.4177503798, 0.5094939872, -0.0794534016, 0.1778905608, -0.0019101050, -1.4691191253, 0.0000105927, -0.0048470268, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, -0.0082457031, -0.0047067028, 0.1174395312, -0.1416273701, -0.0006653604, -0.0489254712, 0.9959314098, -0.1204061760, -0.0000093033, 0.0009069952, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, -0.0006964115, -0.0003982453, 0.0030842330, 0.0011020265, -0.0002001618, -0.0014027077, -0.0000031032, 0.9964443297, 0.0000000238, -0.0000104855, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, -0.0000000000, -0.0000000000, -0.0000000000, 0.0000000000, -0.0000000000, 0.0000000000, -0.0000000000, 0.0000000000, 0.0013070272, -0.0000000000, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000362139, 0.0000206035, -0.0000136392, -0.0000195854, 0.0000083615, -0.0000309733, -0.0000131902, 0.0000322870, -0.0000000031, 0.0183158742, ]

# Input matrix (n x p)
B: [ 0.1540839382, -0.0074320324, 0.0000000000, 0.0000000000, 
0.0316333038, -0.0007171886, 0.0000000000, 0.0000000000, 
0.0044062774, 0.0001139447, 0.0000000000, 0.0000000000, 
-0.0217582519, 0.0035213121, 0.0000000000, 0.0000000000, 
0.0220926583, -0.0007904019, 0.0000000000, 0.0000000000, 
0.1529273533, -0.0095908258, 0.0000000000, 0.0000000000, 
0.0217506744, 0.0964782693, 0.0000000000, 0.0000000000, 
0.0500032094, -0.0000006242, 0.0000000000, 0.0000000000, 
-0.0000000000, 0.0300811136, 0.0000000000, 0.0000000000, 
-0.0016240759, 0.0001755137, 0.0000000000, 0.0000000000, 
0.0000000000, 0.0000000000, -0.2776483848, 0.0066564214, 
0.0000000000, 0.0000000000, -0.0115759393, 0.0002730311, 
0.0000000000, 0.0000000000, 0.0000988079, 0.0022436885, 
0.0000000000, 0.0000000000, 0.0595052501, -0.0013162231, 
0.0000000000, 0.0000000000, 0.0452189703, -0.0003203339, 
0.0000000000, 0.0000000000, 0.0624492598, -0.0022597571, 
0.0000000000, 0.0000000000, -0.0002067456, 0.1955122719, 
0.0000000000, 0.0000000000, 0.1001351452, -0.0000036981, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0300811136, 
0.0000000000, 0.0000000000, 0.0000654269, -0.0000152896, ]

# Output matrix (q x n)
C: [ 4.6085532499, 0.1653960541, 0.8586136984, -3.7177365167, -2.6179379552, 1.9278479345, 0.0000108241, 5.2925822952, 0.0003194059, -0.0446205061, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 1.5470216939, -2.9356697885, 19.0672029227, 7.2864864489, -1.2240052371, -8.0523768382, -0.0000205768, -19.5836724948, -0.0003361308, -0.0702065251, ]

# Feedthrough matrix (q x p)
D: [ 0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, 
0.0000000000, 0.0000000000, 0.0000000000, 0.0000000000, ]


